<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <!-- <link rel="stylesheet" type="text/css" href="./style.css"> -->
  <title>Lintw's Star System</title>
	
  <script type="text/javascript">
  var MSun = 1.989e30; // 太陽質量
  var MJupiter = 1.8986e27; // 木星質量
  var MEarth = 5.972e24; // 地球質量
  var AU = 149597870.700; // km
  var bodies = [
    {
      name: "Sel",
      m: MSun * 0.42,
      ax: 0, ay: 0,
      vx: 0, vy: 0,
      x: 0, y: 0,
      xo: 0, yo: 0
    },
    {
      name: "Lintw",
      m: MEarth * 0.88,
      ax: 0, ay: 0,
      vx: 0, vy: AU * 0.01,
      x: 0, y: AU * 0.4,
      xo: 0, yo: 0
    }
  ];
  
  setTimeOut(main, 10);
  
  function main() {
    // 加速度を計算する
    for(var i = 0; i < bodies.length; i++) {
      bodies[i].ax = 0; bodies[i].ay = 0;
      for(var j = 0; j < bodies.length; j++) {
        if (i == j) continue;
        bodies[i].ax += 0;
        bodies[i].ay += 0;
      }
    }
    // 加速度を速度に加算する
    for(var i = 0; i < bodies.length; i++) {
      bodies[i].vx += bodies[i].ax; bodies[i].vy += bodies[i].ay;
    }
    // 速度を座標に加算する
    for(var i = 0; i < bodies.length; i++) {
      bodies[i].ox = bodies[i].x; bodies[i].oy = bodies[i].y;
      bodies[i].x += bodies[i].vx; bodies[i].y += bodies[i].vy;
    }
    function u(x) { return ( x) / (0.5 * AU) * 300 + 300; }
    function v(y) { return (-y) / (0.5 * AU) * 300 + 300; }
    
    // 軌跡を描画する
    var canvas = document.getElementById('canvas');
    var ctx = canvas.getContext('2d');
    for(var i = 0; i < bodies.length; i++) {
      ctx.beginPath();
      ctx.moveTo(u(bodies[i].ox), v(bodies[i].oy));
      ctx.lineTo(u(bodies[i].x), v(bodies[i].y));
      ctx.stroke();
    }
    
    setTimeOut(main, 10);
  }
  </script>
	
</head>
<body>

  <div style="width:300px; height:300px;">
    <canvas id="canvas" width="300px" height="300px"></canvas>
  </div>

</body>
</html>
